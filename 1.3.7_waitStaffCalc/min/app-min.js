var app=angular.module("myApp",[]);app.controller("waitCtrl",function(t){t.meals={example:[10,1,11]},t.thisMeal={mealPrice:null,taxRate:null,tipRate:null,subTotal:null,tipTotal:null,totalTotal:null},t.myEarnings={totalTips:1,mealCount:Object.keys(t.meals).length,averageTip:null},t.updateEarnings=function(){t.myEarnings.totalTips=null,t.myEarnings.mealCount=Object.keys(t.meals).length;for(var a in t.meals)t.myEarnings.totalTips+=t.meals[a][1]},t.addMeal=function(){var a="customer"+(Object.keys(t.meals).length+1);t.meals[a]=[t.thisMeal.subTotal,t.thisMeal.tipTotal,t.thisMeal.totalTotal],t.updateEarnings()},t.$watch("mealPrice",function(a,l){t.thisMeal.mealPrice=a,null!==t.thisMeal.taxRate&&(t.thisMeal.subTotal=t.thisMeal.mealPrice+t.thisMeal.mealPrice*(t.thisMeal.taxRate/100),t.thisMeal.tipTotal=t.thisMeal.mealPrice*(t.thisMeal.tipRate/100),t.thisMeal.totalTotal=t.thisMeal.subTotal+t.thisMeal.tipTotal)}),t.$watch("taxRate",function(a,l){t.thisMeal.taxRate=a,t.thisMeal.subTotal=t.thisMeal.mealPrice+t.thisMeal.mealPrice*(t.thisMeal.taxRate/100),t.thisMeal.subTotal&&t.thisMeal.tipTotal&&(t.thisMeal.totalTotal=t.thisMeal.subTotal+t.thisMeal.tipTotal)}),t.$watch("tipRate",function(a,l){t.thisMeal.tipRate=a,t.thisMeal.tipTotal=t.thisMeal.mealPrice*(t.thisMeal.tipRate/100),t.thisMeal.totalTotal=t.thisMeal.subTotal+t.thisMeal.tipTotal})});